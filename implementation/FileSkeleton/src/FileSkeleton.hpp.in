#ifndef ENDFTK_IMPLEMENTATION_FILESKELETON_SRC_FILESKELETON_HPP
#define ENDFTK_IMPLEMENTATION_FILESKELETON_SRC_FILESKELETON_HPP

#include "ENDFtk.hpp"

namespace ENDFtk {
namespace implementation {

template<typename Iterator>
FileSkeleton<Iterator>::FileSkeleton(
  const HeadRecord& mHead, 
  Iterator begin, Iterator& position, const Iterator& end, long& LN )
  try:  MF_(mHead.MF()), begin_(begin),
        sectionsIndexed_(createIndexedVector(mHead, begin, position, end, LN)),
        sections_(createSectionsMap(sectionsIndexed_)),
        end_(position)
  { /* Do nothing */ }
  catch( std::exception& e ){
    LOG(INFO) << "Trouble encountered while constructing a FileSkeleton.";
    LOG(INFO) << "Line number=" << LN << ", MF=" << mHead.MF();
    throw e;
  }

} // namespace implementation
} // namespace ENDFtk
#endif  // ENDFTK_IMPLEMENTATION_FILESKELETON_SRC_FILESKELETON_HPP

