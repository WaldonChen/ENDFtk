#ifndef ENDFTK_IMPLEMENTATION_MATERIALSKELETON_MATERIALSKELETON_HPP
#define ENDFTK_IMPLEMENTATION_MATERIALSKELETON_MATERIALSKELETON_HPP

namespace ENDFtk {
namespace implementation {

template<typename Iterator>
MaterialSkeleton<Iterator>::MaterialSkeleton(
  const HeadRecord& mHead, 
  Iterator begin, Iterator& position, const Iterator& end, long& LN )
  try:  MAT_(mHead.MAT()), begin_(begin),
        filesIndexed_( createIndexedVector(mHead, begin, position, end, LN)),
        files_(createFilesMap(filesIndexed_)),
        end_(position)
{ /* Do nothing */ } 
catch( std::exception& e ){
  LOG(INFO) << "Trouble when creating a MaterialSkeleton";
  LOG(INFO) << "Line number=" << LN << ", MAT=" << mHead.MAT();
  throw e;
}

} // namespace implementation
} // namespace ENDFtk

#endif  // ENDFTK_IMPLEMENTATION_MATERIALSKELETON_MATERIALSKELETON_HPP


